import{c as A,e as L,a as F,b as N,u as U,f as D,o as H}from"./array.ed45da59.js";import{ad as v,s as _,a as E,b as O,e as l,k as S,j as e,I as V,p as C,o as $,B as b,ae as z,af as B,H as G,g as i,T as w,ag as j,L as k}from"./index.531bdd1d.js";import{u as W}from"./index.0b6ed134.js";import{E as q}from"./EmptyList.7040aece.js";import{u as M}from"./useSelect.841a0d63.js";import{T as K}from"./Trans.8d667a6a.js";import"./FullscreenClear.16d1157a.js";import"./useStateMachine.0f8e40c2.js";const X=A().shape({accounts:L().of(A({name:F().required("\u200E").min(2,"\u200E"),currency:F().required()})).min(1).max(v,"\u200E")}),Y=_.div.withConfig({displayName:"FieldsWrapper",componentId:"sc-15wozii-0"})(["overflow-y:auto;max-height:250px;> div:not(:last-child){margin-bottom:",";}"],({theme:t})=>t.spacing.small),J="CHF",Q="EUR",Z="GBP",ee="PLN",te="USD",ae=[J,Q,Z,te,ee],oe=({register:t,errors:n,index:o,values:d,remove:u})=>{const{t:s}=E(),m=N({register:t,name:`accounts.${o}.name`,errors:n}),p=M({register:t,name:`accounts.${o}.currency`,errors:n,defaultValues:d}),c=O.exports.useMemo(()=>ae.map(a=>({label:s(`currency.${a}`),value:a})),[s]),h=({value:a})=>a,y=()=>u(o);return l(S.exports.Row,{children:[e(V,{placeholder:s("common.input.name.placeholder"),flexGrow:1,...m}),e(C,{spread:"tiny"}),e($,{width:"130px",options:c,customLabel:h,...p}),e(C,{spread:"tiny"}),e(b,{borderRadius:"secondary",color:"secondary",onClick:y,boxShadow:"none",children:e(z,{})})]})},se=()=>{const{t}=E(),{updateState:n,actions:o}=W(),d=async g=>{console.log(g),await new Promise(f=>{setTimeout(f,3e3)}),n(o.CHANGE_TO_ADD_PORTFOLIOS)},u={accounts:[]},{register:s,handleSubmit:m,formState:{errors:p,isSubmitting:c,isValid:h,isDirty:y},control:a,getValues:R}=U({defaultValues:u,resolver:H(X),mode:"onChange"}),{fields:r,append:T,remove:I}=D({control:a,name:"accounts"}),P=R(),x=()=>T({name:"",currency:"USD"});return e(B.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},children:l(S.exports.Column,{children:[e(G,{textAlign:"center",children:t("add.cash.accounts.title")}),e(i,{space:"small"}),e(w,{fontSize:"0.875",fontColor:"gray400",textAlign:"center",children:e(K,{i18nKey:"add.cash.accounts.description",components:{bold:e(w,{fontSize:"0.875",fontColor:"gray400",textAlign:"center",fontWeight:"700"})}})}),e(i,{space:"large"}),e("form",{onSubmit:m(d),noValidate:!0,children:l(S.exports.Column,{children:[r.length===0?e(q,{handleAppend:x,i18n:{title:t("add.cash.accounts.empty"),button:t("add.cash.accounts.button.add")}}):null,e(Y,{children:r.map((g,f)=>e(oe,{index:f,register:s,errors:p,values:P,remove:I},g.id))}),e(i,{space:"tiny"}),r.length>0&&r.length<v?l(b,{color:"secondary",onClick:x,children:[t("add.cash.accounts.button.add")," ",e(C,{spread:"tiny"})," ",e(j,{})]}):null,e(i,{space:"large"}),e(b,{size:"large",type:"submit",disabled:c||!h||!y,width:"100%",children:c?e(k,{color:"white"}):t("add.cash.accounts.submit")})]})})]})})};se.displayName="IntroductionAddCashAccountsForm";export{se as AddCashAccountsForm};
