import{b as t,G as T,J as H,j as c,K as G,P as L,M as U,O as z,Q as b,U as P,V,W as E,X as j,e as k}from"./index.531bdd1d.js";import{F as $}from"./FullscreenClear.16d1157a.js";import{u as K,S as B}from"./useStateMachine.0f8e40c2.js";function M(){const e=t.exports.useRef(!1);return T(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function W(){const e=M(),[n,o]=t.exports.useState(0),r=t.exports.useCallback(()=>{e.current&&o(n+1)},[n]);return[t.exports.useCallback(()=>H.postRender(r),[r]),n]}class J extends t.exports.Component{getSnapshotBeforeUpdate(n){const o=this.props.childRef.current;if(o&&n.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=o.offsetHeight||0,r.width=o.offsetWidth||0,r.top=o.offsetTop,r.left=o.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Q({children:e,isPresent:n}){const o=t.exports.useId(),r=t.exports.useRef(null),m=t.exports.useRef({width:0,height:0,top:0,left:0});return t.exports.useInsertionEffect(()=>{const{width:l,height:u,top:d,left:_}=m.current;if(n||!r.current||!l||!u)return;r.current.dataset.motionPopId=o;const f=document.createElement("style");return document.head.appendChild(f),f.sheet&&f.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${u}px !important;
            top: ${d}px !important;
            left: ${_}px !important;
          }
        `),()=>{document.head.removeChild(f)}},[n]),c(J,{isPresent:n,childRef:r,sizeRef:m,children:t.exports.cloneElement(e,{ref:r})})}const R=({children:e,initial:n,isPresent:o,onExitComplete:r,custom:m,presenceAffectsLayout:l,mode:u})=>{const d=G(X),_=t.exports.useId(),f=t.exports.useMemo(()=>({id:_,initial:n,isPresent:o,custom:m,onExitComplete:a=>{d.set(a,!0);for(const i of d.values())if(!i)return;r&&r()},register:a=>(d.set(a,!1),()=>d.delete(a))}),l?void 0:[o]);return t.exports.useMemo(()=>{d.forEach((a,i)=>d.set(i,!1))},[o]),t.exports.useEffect(()=>{!o&&!d.size&&r&&r()},[o]),u==="popLayout"&&(e=c(Q,{isPresent:o,children:e})),c(L.Provider,{value:f,children:e})};function X(){return new Map}const C=e=>e.key||"";function Y(e,n){e.forEach(o=>{const r=C(o);n.set(r,o)})}function q(e){const n=[];return t.exports.Children.forEach(e,o=>{t.exports.isValidElement(o)&&n.push(o)}),n}const Z=({children:e,custom:n,initial:o=!0,onExitComplete:r,exitBeforeEnter:m,presenceAffectsLayout:l=!0,mode:u="sync"})=>{m&&(u="wait",U(!1,"Replace exitBeforeEnter with mode='wait'"));let[d]=W();const _=t.exports.useContext(z).forceRender;_&&(d=_);const f=M(),a=q(e);let i=a;const p=new Set,x=t.exports.useRef(i),A=t.exports.useRef(new Map).current,S=t.exports.useRef(!0);if(T(()=>{S.current=!1,Y(a,A),x.current=i}),b(()=>{S.current=!0,A.clear(),p.clear()}),S.current)return c(P,{children:i.map(s=>c(R,{isPresent:!0,initial:o?void 0:!1,presenceAffectsLayout:l,mode:u,children:s},C(s)))});i=[...i];const O=x.current.map(C),I=a.map(C),w=O.length;for(let s=0;s<w;s++){const h=O[s];I.indexOf(h)===-1&&p.add(h)}return u==="wait"&&p.size&&(i=[]),p.forEach(s=>{if(I.indexOf(s)!==-1)return;const h=A.get(s);if(!h)return;const y=O.indexOf(s),F=()=>{A.delete(s),p.delete(s);const v=x.current.findIndex(g=>g.key===s);if(x.current.splice(v,1),!p.size){if(x.current=a,f.current===!1)return;d(),r&&r()}};i.splice(y,0,c(R,{isPresent:!1,onExitComplete:F,custom:n,presenceAffectsLayout:l,mode:u,children:h},C(h)))}),i=i.map(s=>{const h=s.key;return p.has(h)?s:c(R,{isPresent:!0,presenceAffectsLayout:l,mode:u,children:s},C(s))}),V!=="production"&&u==="wait"&&i.length>1&&console.warn(`You're attempting to animate multiple children within AnimatePresence, but its mode is set to "wait". This will lead to odd visual behaviour.`),c(P,{children:p.size?i:i.map(s=>t.exports.cloneElement(s))})},D=t.exports.createContext(null),ee=new B("addCashAccounts",{addCashAccounts:"addCashAccounts",addPortfolios:"addPortfolios",addInstrument:"addInstrument",formSuccess:"formSuccess"},{CHANGE_TO_ADD_CASH_ACCOUNTS:"CHANGE_TO_ADD_CASH_ACCOUNTS",CHANGE_TO_ADD_PORTFOLIOS:"CHANGE_TO_ADD_PORTFOLIOS",CHANGE_TO_ADD_INSTRUMENT:"CHANGE_TO_ADD_INSTRUMENT",CHANGE_TO_FORM_SUCCESS:"CHANGE_TO_FORM_SUCCESS"},{addCashAccounts:{CHANGE_TO_ADD_PORTFOLIOS:"addPortfolios"},addPortfolios:{CHANGE_TO_ADD_INSTRUMENT:"addInstrument"},addInstrument:{CHANGE_TO_FORM_SUCCESS:"formSuccess",CHANGE_TO_ADD_CASH_ACCOUNTS:"addCashAccounts"}}),te=()=>{const{states:e,actions:n,updateState:o,compareState:r}=K(ee);return{states:e,actions:n,updateState:o,compareState:r}},ne=({children:e})=>{const n=te();return c(D.Provider,{value:n,children:e})},oe=()=>{const e=t.exports.useContext(D);if(!e)throw new Error("useAddModelPortfolioContext must be used inside AddModelPortfolioProvider");return e},re=t.exports.lazy(()=>E(()=>import("./index.8532f39d.js"),["assets/index.8532f39d.js","assets/array.ed45da59.js","assets/index.531bdd1d.js","assets/index.26b45885.css","assets/EmptyList.7040aece.js","assets/useSelect.841a0d63.js","assets/Trans.8d667a6a.js","assets/FullscreenClear.16d1157a.js","assets/useStateMachine.0f8e40c2.js"]).then(({AddCashAccountsForm:e})=>({default:e}))),se=t.exports.lazy(()=>E(()=>import("./index.30b6f747.js"),["assets/index.30b6f747.js","assets/index.531bdd1d.js","assets/index.26b45885.css","assets/array.ed45da59.js","assets/EmptyList.7040aece.js","assets/Trans.8d667a6a.js","assets/FullscreenClear.16d1157a.js","assets/useStateMachine.0f8e40c2.js"]).then(({AddPortfoliosForm:e})=>({default:e}))),ce=t.exports.lazy(()=>E(()=>import("./index.21d03437.js"),["assets/index.21d03437.js","assets/index.531bdd1d.js","assets/index.26b45885.css","assets/array.ed45da59.js","assets/useSelect.841a0d63.js","assets/FullscreenClear.16d1157a.js","assets/useStateMachine.0f8e40c2.js"]).then(({AddInstrumentForm:e})=>({default:e}))),ie=t.exports.lazy(()=>E(()=>import("./index.d9eccd3f.js"),["assets/index.d9eccd3f.js","assets/index.531bdd1d.js","assets/index.26b45885.css"]).then(({FormSuccess:e})=>({default:e}))),de=()=>{const{states:e,compareState:n}=oe();return c($,{children:c(t.exports.Suspense,{fallback:c(j,{}),children:k(Z,{children:[n(e.addCashAccounts)&&c(re,{}),n(e.addPortfolios)&&c(se,{}),n(e.addInstrument)&&c(ce,{}),n(e.formSuccess)&&c(ie,{})]})})})},N=()=>c(ne,{children:c(de,{})});N.displayName="Introduction";const fe=Object.freeze(Object.defineProperty({__proto__:null,Introduction:N},Symbol.toStringTag,{value:"Module"}));export{fe as i,oe as u};
